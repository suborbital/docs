<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="Suborbital Docs Home RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="Suborbital Docs Home Atom Feed"><title data-react-helmet="true">faas | Suborbital Docs Home</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.suborbital.dev/docs/docs/reactr/faas"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="faas | Suborbital Docs Home"><meta data-react-helmet="true" name="description" content="Reactr FaaS ☁️"><meta data-react-helmet="true" property="og:description" content="Reactr FaaS ☁️"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/SOS_SubOrb-Icon-FullColour.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.suborbital.dev/docs/docs/reactr/faas"><link data-react-helmet="true" rel="alternate" href="https://docs.suborbital.dev/docs/docs/reactr/faas" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.suborbital.dev/docs/docs/reactr/faas" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.94e1ca3f.css">
<link rel="preload" href="/docs/assets/js/runtime~main.dd28328f.js" as="script">
<link rel="preload" href="/docs/assets/js/main.eaf4aa6e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/SOS_Alt-Long-FullColour.svg" alt="Suborbital Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/docs/img/SOS_Alt-Long-FullColour.svg" alt="Suborbital Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/docs/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/suborbital" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">The Suborbital Ecosystem</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Basics of WebAssembly</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Building blocks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Atmo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Reactr</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Start Here</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reactr and WASM</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reactr and GRAV</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Reactr and FaaS</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docs/reactr/faas">faas</a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>faas</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="reactr-faas-️">Reactr FaaS ☁️<a aria-hidden="true" class="hash-link" href="#reactr-faas-️" title="Direct link to heading">​</a></h2><p>Reactr has built-in support for acting as a Functions-as-a-Service system (FaaS). Reactr Runnables can be exposed as endpoints to be triggered by an API request. Reactr will automatically create and manage the server on your behalf and allow for efficient execution of your Runnables over the network.</p><p>Reactr FaaS operates with similar semantics to the Reactr Go library. Jobs are triggered by making a POST request, and the caller receives a result ID in return. The job will be automatically scheduled and the result can be fetched later by passing the result ID in a later GET request. Results can optionally be waited for by passing the <code>?then=true</code> query parameter.</p><p>An example of creating a Reactr FaaS server can be found in <a href="/docs/docs/rfaasservertest/main.go">servertest</a>. Reactr FaaS uses Suborbital&#x27;s <a href="https://github.com/suborbital/vektor" target="_blank" rel="noopener noreferrer">Vektor API framework</a>, and so all of its options are available, and the resulting server object can be optionally extended with other handlers. Below are the API calls available for Reactr jobs.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="schedule-a-job">Schedule a Job<a aria-hidden="true" class="hash-link" href="#schedule-a-job" title="Direct link to heading">​</a></h2><table><thead><tr><th align="left">URI:</th><th align="left"><code>/do/:jobname</code></th></tr></thead><tbody><tr><td align="left">Method:</td><td align="left"><code>POST</code></td></tr><tr><td align="left">Body:</td><td align="left">Job payload (raw bytes)</td></tr><tr><td align="left">Response:</td><td align="left">JSON bytes representing the result</td></tr><tr><td align="left"><strong>Parameter</strong></td><td align="left"><strong>Effect</strong></td></tr><tr><td align="left"><code>then=true</code></td><td align="left">When provided, causes the request to wait until the scheduled job is completed, and returns the job result as raw bytes. If the job result was a struct, an attempt will be made to JSON marshal it before sending. If any error occurs, the response will have a non-200 HTTP status code and a body containing an error message.</td></tr><tr><td align="left"><code>callback={url}</code></td><td align="left">When provided, a webhook POST request will be sent to the provided URL when the job completes. The request will contain the bytes of the job result. If the job result was a struct, an attempt will be made to JSON marshal it before sending. If any error occurs, the request payload will be a string beginning with <code>job_err_result</code> followed by an error message. When <code>callback</code> is set, <code>then</code> will be ignored, and the response to the caller will be empty with HTTP status 200 OK.</td></tr><tr><td align="left"><strong>Example Request</strong></td><td align="left"><strong>Example Response</strong></td></tr><tr><td align="left"><code>POST</code> <code>/do/compressimage</code></td><td align="left"><code>{&quot;resultId&quot;:&quot;7gj9n0adohm36zeqbfys4re6&quot;}</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="get-a-result">Get a result<a aria-hidden="true" class="hash-link" href="#get-a-result" title="Direct link to heading">​</a></h2><table><thead><tr><th align="left">URI:</th><th align="left"><code>/then/:resultid</code></th></tr></thead><tbody><tr><td align="left">Method:</td><td align="left"><code>GET</code></td></tr><tr><td align="left">Body:</td><td align="left">none</td></tr><tr><td align="left">Response:</td><td align="left">Job result (raw bytes)</td></tr><tr><td align="left"><strong>Example Request</strong></td><td align="left"><strong>Example Response</strong></td></tr><tr><td align="left"><code>GET</code> <code>/then/7gj9n0adohm36zeqbfys4re6</code></td><td align="left">{job result bytes}</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/suborbital/docs/docs/reactr/faas.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-12-08T13:51:15.000Z">12/8/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/reactr/grav"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Reactr ➕ Grav</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reactr-faas-️" class="table-of-contents__link toc-highlight">Reactr FaaS ☁️</a></li><li><a href="#schedule-a-job" class="table-of-contents__link toc-highlight">Schedule a Job</a></li><li><a href="#get-a-result" class="table-of-contents__link toc-highlight">Get a result</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/Jv3nMgT8kW" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/suborbital" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/SuborbitalDev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://docs.suborbital.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docs.suborbital.dev/docs/faq/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Suborbital Authors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.dd28328f.js"></script>
<script src="/docs/assets/js/main.eaf4aa6e.js"></script>
</body>
</html>
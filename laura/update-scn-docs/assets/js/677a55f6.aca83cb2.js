"use strict";(self.webpackChunksuborbital_docs=self.webpackChunksuborbital_docs||[]).push([[9831],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,b=d["".concat(u,".").concat(m)]||d[m]||c[m]||i;return n?a.createElement(b,r(r({ref:t},s),{},{components:n})):a.createElement(b,r({ref:t},s))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),o=n(6010);const i="tabItem_Ymn6";function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,r),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),o=n(7294),i=n(6010),r=n(2389),l=n(7392),u=n(7094),p=n(2466);const s="tabList__CuJ",c="tabItem_LNqP";function d(e){var t,n;const{lazy:r,block:d,defaultValue:m,values:b,groupId:g,className:k}=e,f=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=b?b:f.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),N=(0,l.l)(h,((e,t)=>e.value===t.value));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===m?m:null!=(t=null!=m?m:null==(n=f.find((e=>e.props.default)))?void 0:n.props.value)?t:f[0].props.value;if(null!==v&&!h.some((e=>e.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+h.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:C,setTabGroupChoices:y}=(0,u.U)(),[w,A]=(0,o.useState)(v),x=[],{blockElementScrollPositionUntilNextRender:I}=(0,p.o5)();if(null!=g){const e=C[g];null!=e&&e!==w&&h.some((t=>t.value===e))&&A(e)}const T=e=>{const t=e.currentTarget,n=x.indexOf(t),a=h[n].value;a!==w&&(I(t),A(a),null!=g&&y(g,String(a)))},E=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var a;const t=x.indexOf(e.currentTarget)+1;n=null!=(a=x[t])?a:x[0];break}case"ArrowLeft":{var o;const t=x.indexOf(e.currentTarget)-1;n=null!=(o=x[t])?o:x[x.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",s)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":d},k)},h.map((e=>{let{value:t,label:n,attributes:r}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>x.push(e),onKeyDown:E,onFocus:T,onClick:T},r,{className:(0,i.Z)("tabs__item",c,null==r?void 0:r.className,{"tabs__item--active":w===t})}),null!=n?n:t)}))),r?(0,o.cloneElement)(f.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,r.Z)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},2704:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>u,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var a=n(7462),o=(n(7294),n(3905)),i=n(5488),r=n(5162);const l={pagination_next:null},u="Using Compute's APIs",p={unversionedId:"compute/using-api",id:"compute/using-api",title:"Using Compute's APIs",description:"You can find a detailed specification of Compute's APIs here.",source:"@site/docs/compute/using-api.md",sourceDirName:"compute",slug:"/compute/using-api",permalink:"/docs/laura/update-scn-docs/compute/using-api",draft:!1,editUrl:"https://github.com/suborbital/docs/edit/main/website/docs/compute/using-api.md",tags:[],version:"current",lastUpdatedAt:1660843970,formattedLastUpdatedAt:"Aug 18, 2022",frontMatter:{pagination_next:null},sidebar:"docs",previous:{title:"Getting started with Compute",permalink:"/docs/laura/update-scn-docs/compute/get-started"}},s={},c=[{value:"Using Compute from Go",id:"using-compute-from-go",level:2},{value:"Documentation",id:"documentation",level:3},{value:"Installation",id:"installation",level:3},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Configuration",id:"configuration",level:4},{value:"Build and run a function",id:"build-and-run-a-function",level:4},{value:"Using Compute from JavaScript or TypeScript",id:"using-compute-from-javascript-or-typescript",level:2},{value:"Installation",id:"installation-1",level:3},{value:"Setup",id:"setup",level:3},{value:"Default Config",id:"default-config",level:3},{value:"Local config",id:"local-config",level:3},{value:"Custom API URLs or ports",id:"custom-api-urls-or-ports",level:3},{value:"Getting started",id:"getting-started",level:2},{value:"Example output",id:"example-output",level:3},{value:"Full API",id:"full-api",level:2},{value:"Admin",id:"admin",level:3},{value:"<code>suborbital.admin.getToken</code>",id:"suborbitaladmingettoken",level:4},{value:"<code>suborbital.admin.getFunctions</code>",id:"suborbitaladmingetfunctions",level:4},{value:"<code>suborbital.admin.getFunctionResults</code>",id:"suborbitaladmingetfunctionresults",level:4},{value:"<code>suborbital.admin.getFunctionErrors</code>",id:"suborbitaladmingetfunctionerrors",level:4},{value:"Exec",id:"exec",level:3},{value:"<code>suborbital.exec.run</code>",id:"suborbitalexecrun",level:4},{value:"Builder",id:"builder",level:3},{value:"<code>suborbital.builder.build</code>",id:"suborbitalbuilderbuild",level:4},{value:"<code>suborbital.builder.getDraft</code>",id:"suborbitalbuildergetdraft",level:4},{value:"<code>suborbital.builder.deployDraft</code>",id:"suborbitalbuilderdeploydraft",level:4},{value:"<code>suborbital.builder.testDraft</code>",id:"suborbitalbuildertestdraft",level:4},{value:"<code>suborbital.builder.getTemplate</code>",id:"suborbitalbuildergettemplate",level:4}],d={toc:c};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"using-computes-apis"},"Using Compute's APIs"),(0,o.kt)("p",null,"You can find a detailed specification of Compute's APIs ",(0,o.kt)("a",{parentName:"p",href:"https://suborbital-compute.readme.io/reference/api-reference"},"here"),"."),(0,o.kt)(i.Z,{groupId:"language-selection",mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"go",label:"Go",mdxType:"TabItem"},(0,o.kt)("h2",{id:"using-compute-from-go"},"Using Compute from Go"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/suborbital/compute-go"},(0,o.kt)("inlineCode",{parentName:"a"},"compute-go")," library")," helps you easily interact with the Compute API from your Go application. Suborbital Compute is designed to run alongside your application in a Kubernetes or Docker Compose environment."),(0,o.kt)("h3",{id:"documentation"},"Documentation"),(0,o.kt)("p",null,"Like most Go packages, you can find ",(0,o.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/suborbital/compute-go#section-readme"},"complete and up to date technical documentation for ",(0,o.kt)("inlineCode",{parentName:"a"},"compute-go")," on ",(0,o.kt)("inlineCode",{parentName:"a"},"pkg.go.dev")),". Those docs are generated from inline comments in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/suborbital/compute-go"},(0,o.kt)("inlineCode",{parentName:"a"},"compute-go")," source code"),"."),(0,o.kt)("h3",{id:"installation"},"Installation"),(0,o.kt)("p",null,"In a directory with a ",(0,o.kt)("inlineCode",{parentName:"p"},"go.mod")," file, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/suborbital/compute-go@latest\n")),(0,o.kt)("h3",{id:"basic-usage"},"Basic Usage"),(0,o.kt)("h4",{id:"configuration"},"Configuration"),(0,o.kt)("p",null,"This example sets up a basic client with the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.suborbital.dev/compute/quickstart/create-an-environment-token-with-subo#generate-your-token"},'token generated in "Setup"')," or with the web app. The ",(0,o.kt)("inlineCode",{parentName:"p"},"compute.Client")," object created here assumes that Compute is running on the same host on its default ports. Feel free to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/suborbital/compute-go/blob/main/examples/app"},"check out the code for this example!")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="client.go"',title:'"client.go"'},'package main\n\nimport (\n    "os"\n\n    "github.com/suborbital/compute-go"\n)\n\nfunc client() *compute.Client {\n    token, _ := os.LookupEnv("SCC_ENV_TOKEN")\n    client, _ := compute.NewClient(compute.LocalConfig(), token)\n\n    return client\n}\n')),(0,o.kt)("h4",{id:"build-and-run-a-function"},"Build and run a function"),(0,o.kt)("p",null,"We can now integrate Compute into an application. ",(0,o.kt)("inlineCode",{parentName:"p"},"compute-go")," has access to all of Compute's APIs. It can run builds, list existing functions, run tests, and execute functions."),(0,o.kt)("p",null,"Behind the scenes, ",(0,o.kt)("inlineCode",{parentName:"p"},"compute-go")," manages authentication, so you don't have to worry about setting the right HTTP headers when interacting with the Compute API."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app.go"',title:'"app.go"'},'package main\n\nimport (\n    "log"\n\n    "github.com/suborbital/compute-go"\n)\n\nfunc main() {\n    client := client()\n\n    // This is a local reference to some Runnable. Nothing has run in Compute at this point.\n    runnable := compute.NewRunnable("com.suborbital", "acmeco", "default", "rs-hello-world", "rust")\n\n    // Request template source code for the above Runnable.\n    template, _ := client.BuilderTemplate(runnable)\n\n    // Log the default \'hello world\' Rust template to stdout\n    log.Println(template.Contents)\n\n    // Run a remote build for the provided Runnable and the unmodified \'hello world\'\n    // template source code.\n    build, _ := client.BuildFunctionString(runnable, template.Contents)\n\n    if !build.Succeeded {\n        // Log the compiler output to see why the build failed\n        log.Fatal(build.OutputLog)\n    }\n\n    // Deploy the function (the runnable\'s .Version field is adjusted here)\n    client.PromoteDraft(runnable)\n\n    // Execute the function\n    result, _ := client.ExecString(runnable, "world!")\n\n    // Log the execution output\n    log.Println(string(result))\n}\n')),(0,o.kt)("p",null,"Now that the Runnable has been built, it can be executed as much as you like without rebuilding using ",(0,o.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/suborbital/compute-go#Client.Exec"},(0,o.kt)("inlineCode",{parentName:"a"},"client.Exec"))," or ",(0,o.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/suborbital/compute-go#Client.ExecString"},(0,o.kt)("inlineCode",{parentName:"a"},"client.ExecString")),".")),(0,o.kt)(r.Z,{value:"node",label:"JavaScript/TypeScript",mdxType:"TabItem"},(0,o.kt)("h2",{id:"using-compute-from-javascript-or-typescript"},"Using Compute from JavaScript or TypeScript"),(0,o.kt)("p",null,"Use ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/suborbital/compute-node"},"our JavaScript SDK")," to easily interact with Compute's APIs using JavaScript or Typescript."),(0,o.kt)("h3",{id:"installation-1"},"Installation"),(0,o.kt)("p",null,"Install it via ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"npm"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add @suborbital/compute\n")),(0,o.kt)("p",null,"or:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install @suborbital/compute\n")),(0,o.kt)("h3",{id:"setup"},"Setup"),(0,o.kt)("p",null,"Import the library and configure the client. The default configuration will point the client at Compute's default production URLs in your cluster."),(0,o.kt)("p",null,"A configuration for local development is also provided."),(0,o.kt)("h3",{id:"default-config"},"Default Config"),(0,o.kt)("p",null,"By default, the client will point to the control plane and data plane within your Kubernetes cluster."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'import { Suborbital } from "@suborbital/compute";\n\nconst suborbital = new Suborbital();\n')),(0,o.kt)("h3",{id:"local-config"},"Local config"),(0,o.kt)("p",null,"For local development with Compute running in docker-compose, the local configuration will point to the services running on your local machine."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'import { Suborbital, localConfig } from "@suborbital/compute";\n\nconst suborbital = new Suborbital(localConfig);\n')),(0,o.kt)("h3",{id:"custom-api-urls-or-ports"},"Custom API URLs or ports"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'import { Suborbital } from "@suborbital/compute";\n\nconst configuration = {\n    adminUri: "https://acme.co:8081",\n    execUri: "https://acme.co:8080",\n    builderUri: "https://acme.co/builder",\n};\n\nconst suborbital = new Suborbital(configuration);\n')))),(0,o.kt)("h2",{id:"getting-started"},"Getting started"),(0,o.kt)("p",null,"Using the ",(0,o.kt)("a",{parentName:"p",href:"https://suborbital-compute.readme.io/reference/api-reference"},"Compute APIs"),", this guide will use the Administrative and Execution APIs to get a list of available functions and execute one."),(0,o.kt)("p",null,"The Administrative APIs ",(0,o.kt)("inlineCode",{parentName:"p"},"getFunctions")," method takes an object with a ",(0,o.kt)("inlineCode",{parentName:"p"},"userId")," and a ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace")," and returns a list of available functions for that user in the provided namespace."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'async function listAvailableFunctions() {\n    const functionList = await suborbital.admin.getFunctions({\n        userId: "1234",\n        namespace: "default",\n    });\n\n    console.log("Functions:", functions);\n}\n')),(0,o.kt)("h3",{id:"example-output"},"Example output"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "functions": [\n        {\n            "name": "foo",\n            "namespace": "...",\n            "lang": "...",\n            "version": "...",\n            "draftVersion": "...",\n            "apiVersion": "...",\n            "fqfn": "...",\n            "fqfnURI": "...",\n        }\n    ]\n}\n')),(0,o.kt)("p",null,"The result includes a function named ",(0,o.kt)("inlineCode",{parentName:"p"},"foo")," (which for this tutorial already exists) and which we will execute using the Execution APIs ",(0,o.kt)("inlineCode",{parentName:"p"},"run")," method."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"run")," method takes an object with the ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"version"),", and returns the result of the executed function."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'async function runFunction() {\n    const result = await suborbital.exec.run({\n        environment: "com.acmeco",\n        userId: "1234",\n        namespace: "default",\n        fnName: "foo",\n        version: "v1.0.0",\n    });\n\n    console.log("Function output:", result);\n}\n')),(0,o.kt)("h2",{id:"full-api"},"Full API"),(0,o.kt)("p",null,"These are all of the available methods."),(0,o.kt)("h3",{id:"admin"},"Admin"),(0,o.kt)("h4",{id:"suborbitaladmingettoken"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.admin.getToken")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": Retrieves an authentication token for the given function, typically used to authenticate calls to the Builder API.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," A string containing the token used for authorization."),(0,o.kt)("h4",{id:"suborbitaladmingetfunctions"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.admin.getFunctions")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Returns a list of available functions for the given user in the given namespace.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "functions": [\n        {\n            "name": "foo",\n            "namespace": "...",\n            "lang": "...",\n            "version": "...",\n            "draftVersion": "...",\n            "apiVersion": "...",\n            "fqfn": "...",\n            "fqfnURI": "...",\n        }\n    ]\n}\n')),(0,o.kt)("h4",{id:"suborbitaladmingetfunctionresults"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.admin.getFunctionResults")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Returns the most recent results (up to 5) produced by the execution of the given function.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"version"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "results": [\n        {\n            "uuid": "...",\n            "timestamp": "...",\n            "response": "..."\n        }\n    ]\n}\n')),(0,o.kt)("h4",{id:"suborbitaladmingetfunctionerrors"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.admin.getFunctionErrors")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Returns the most recent errors (up to 5) produced by the execution of the given function.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"version"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "errors": [\n        {\n            "uuid": "...",\n            "timestamp": "...",\n            "code": 400,\n            "message": "..."\n        }\n    ]\n}\n')),(0,o.kt)("h3",{id:"exec"},"Exec"),(0,o.kt)("h4",{id:"suborbitalexecrun"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.exec.run")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Executes the given function, with the provided body, params and state loaded into the function at runtime.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),",",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),",",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),",",(0,o.kt)("inlineCode",{parentName:"p"},"version"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," The result of the executed function."),(0,o.kt)("h3",{id:"builder"},"Builder"),(0,o.kt)("h4",{id:"suborbitalbuilderbuild"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.builder.build")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Builds the provided code using the specified language toolchain.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"language"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"token"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," A string containing the logs for the build.  "),(0,o.kt)("h4",{id:"suborbitalbuildergetdraft"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.builder.getDraft")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Gets the draft for the specified runnable.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"token"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," A specified runnable.  "),(0,o.kt)("h4",{id:"suborbitalbuilderdeploydraft"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.builder.deployDraft")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Deploys the specified runnable.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"token"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," A string containing the version.  "),(0,o.kt)("h4",{id:"suborbitalbuildertestdraft"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.builder.testDraft")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Tests the draft for the specified runnable.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"environment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"userId"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")," A string containing the result.  "),(0,o.kt)("h4",{id:"suborbitalbuildergettemplate"},(0,o.kt)("inlineCode",{parentName:"h4"},"suborbital.builder.getTemplate")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," Gets the template (which controls what your users see when they create a new function) for a new function of the given language.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Args:")," An object containing ",(0,o.kt)("inlineCode",{parentName:"p"},"fnName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"language"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Result:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import { logInfo } from "@suborbital/suborbital"\n\nexport function run(input: ArrayBuffer): ArrayBuffer {\nlet inStr = String.UTF8.decode(input)\n\nlet out = "Hello there, " + inStr\n\nreturn String.UTF8.encode(out)\n}\n')))}m.isMDXComponent=!0}}]);